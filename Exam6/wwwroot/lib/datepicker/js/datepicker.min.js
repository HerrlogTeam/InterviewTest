/*!
 * Datepicker for Bootstrap v1.8.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n,t){function f(){return new Date(Date.UTC.apply(Date,arguments))}function s(){var n=new Date;return f(n.getFullYear(),n.getMonth(),n.getDate())}function l(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function h(i,r){return function(){return r!==t&&n.fn.datepicker.deprecated(r),this[i].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function s(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in u)i.test(r)&&(e=r.replace(o,s),f[e]=u[r]);return f}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(y,function(n,t){t in i&&(u[t]=i[t])}),u}var a=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(0<=this[t].valueOf()-i&&this[t].valueOf()-i<864e5)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new a;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),u=function(t,r){n.data(t,"datepicker",this);this._process_options(r);this.dates=new a;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.component&&this.component.length===0&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return Number(t)+1});this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled});this._allow_update=!1;this.setViewMode(this.o.startView);this._allow_update=!0;this.fillDow();this.fillMonths();this.update();this.isInline&&this.show()},c,v,o,e,y,r,i;u.prototype={constructor:u,_resolveViewName:function(t){return n.each(i.viewModes,function(i,r){if(t===i||n.inArray(t,r.names)!==-1)return t=i,!1}),t},_resolveDaysOfWeek:function(t){return n.isArray(t)||(t=t.split(/[,\s]*/)),n.map(t,Number)},_check_template:function(i){try{if(i===t||i==="")return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(u){return!1}},_process_options:function(t){var u,h,l,o,c;if(this._o=n.extend({},this._o,t),u=this.o=n.extend({},this._o),h=u.language,r[h]||(h=h.split("-")[0],r[h]||(h=e.language)),u.language=h,u.startView=this._resolveViewName(u.startView),u.minViewMode=this._resolveViewName(u.minViewMode),u.maxViewMode=this._resolveViewName(u.maxViewMode),u.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,u.startView)),u.multidate!==!0&&(u.multidate=Number(u.multidate)||!1,u.multidate!==!1&&(u.multidate=Math.max(0,u.multidate))),u.multidateSeparator=String(u.multidateSeparator),u.weekStart%=7,u.weekEnd=(u.weekStart+6)%7,l=i.parseFormat(u.format),u.startDate!==-Infinity&&(u.startDate=u.startDate?u.startDate instanceof Date?this._local_to_utc(this._zero_time(u.startDate)):i.parseDate(u.startDate,l,u.language,u.assumeNearbyYear):-Infinity),u.endDate!==Infinity&&(u.endDate=u.endDate?u.endDate instanceof Date?this._local_to_utc(this._zero_time(u.endDate)):i.parseDate(u.endDate,l,u.language,u.assumeNearbyYear):Infinity),u.daysOfWeekDisabled=this._resolveDaysOfWeek(u.daysOfWeekDisabled||[]),u.daysOfWeekHighlighted=this._resolveDaysOfWeek(u.daysOfWeekHighlighted||[]),u.datesDisabled=u.datesDisabled||[],n.isArray(u.datesDisabled)||(u.datesDisabled=u.datesDisabled.split(",")),u.datesDisabled=n.map(u.datesDisabled,function(n){return i.parseDate(n,l,u.language,u.assumeNearbyYear)}),o=String(u.orientation).toLowerCase().split(/\s+/g),c=u.orientation.toLowerCase(),o=n.grep(o,function(n){return/^auto|left|right|top|bottom$/.test(n)}),u.orientation={x:"auto",y:"auto"},c&&c!=="auto")if(o.length===1)switch(o[0]){case"top":case"bottom":u.orientation.y=o[0];break;case"left":case"right":u.orientation.x=o[0]}else c=n.grep(o,function(n){return/^left|right$/.test(n)}),u.orientation.x=c[0]||"auto",c=n.grep(o,function(n){return/^top|bottom$/.test(n)}),u.orientation.y=c[0]||"auto";if(u.defaultViewDate instanceof Date||typeof u.defaultViewDate=="string")u.defaultViewDate=i.parseDate(u.defaultViewDate,l,u.language,u.assumeNearbyYear);else if(u.defaultViewDate){var a=u.defaultViewDate.year||(new Date).getFullYear(),v=u.defaultViewDate.month||0,y=u.defaultViewDate.day||1;u.defaultViewDate=f(a,v,y)}else u.defaultViewDate=s()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0];n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.inputField.length?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[this.picker,".prev, .next",{click:n.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:n.proxy(this.dayCellClick,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,viewMode:this.viewMode,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.inputField.prop("disabled")&&(!this.inputField.prop("readonly")||this.o.enableOnReadonly!==!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&n.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)i=window.clipboardData.getData("Text");else return;this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){if(!n)return n;var t=new Date(n.getTime()+n.getTimezoneOffset()*6e4);return t.getTimezoneOffset()!==n.getTimezoneOffset()&&(t=new Date(n.getTime()+t.getTimezoneOffset()*6e4)),t},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&f(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return n!==t?new Date(n):null},clearDates:function(){this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,n.map(t,this._utc_to_local)),this},setDate:h("setDates"),setUTCDate:h("setUTCDates"),remove:h("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){return this._process_options({datesDisabled:n}),this.update(),this},place:function(){var r,y,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c=this.o.container==="body"?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[0];this.element.parents().each(function(){var t=n(this).css("z-index");t!=="auto"&&Number(t)!==0&&a.push(Number(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return this.o.container!=="body"&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,r==="auto"&&(y=-c+i-s,r=y<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),r==="top"?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var u=this.dates.copy(),t=[],r=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),r=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.o.updateViewDate&&(this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate),r?(this.setValue(),this.element.change()):this.dates.length&&String(u)!==String(this.dates)&&r&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&u.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)!==-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),i="",u,n=0;n<12;n++)u=t&&t.getMonth()===n?" focused":"",i+='<span class="month'+u+'">'+r[this.o.language].monthsShort[n]+"<\/span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth(),f=s();return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<u?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>u)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&l(t,f)&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s){for(var w="",c=u/10,b=this.picker.find(i),v=Math.floor(f/u)*u,p=v+c*9,k=Math.floor(this.viewDate.getFullYear()/c)*c,d=n.map(this.dates,function(n){return Math.floor(n.getUTCFullYear()/c)*c}),l,y,h,a=v-c;a<=p+c;a+=c)l=[r],y=null,a===v-c?l.push("old"):a===p+c&&l.push("new"),n.inArray(a,d)!==-1&&l.push("active"),(a<e||a>o)&&l.push("disabled"),a===k&&l.push("focused"),s!==n.noop&&(h=s(new Date(a,0,1)),h===t?h={}:typeof h=="boolean"?h={enabled:h}:typeof h=="string"&&(h={classes:h}),h.enabled===!1&&l.push("disabled"),h.classes&&(l=l.concat(h.classes.split(/\s+/))),h.tooltip&&(y=h.tooltip)),w+='<span class="'+l.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+a+"<\/span>";b.find(".datepicker-switch").text(v+"-"+p);b.find("td").html(w)},fill:function(){var w=new Date(this.viewDate),o=w.getUTCFullYear(),d=w.getUTCMonth(),a=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,ut=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,v=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,ft=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,et=r[this.o.language].today||r.en.today||"",ot=r[this.o.language].clear||r.en.clear||"",st=r[this.o.language].titleFormat||r.en.titleFormat,y,u,e,g,h,c,p,s,k,it,l,rt;if(!isNaN(o)&&!isNaN(d)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(w,st,this.o.language)),this.picker.find("tfoot .today").text(et).css("display",this.o.todayBtn===!0||this.o.todayBtn==="linked"?"table-cell":"none"),this.picker.find("tfoot .clear").text(ot).css("display",this.o.clearBtn===!0?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display",typeof this.o.title=="string"&&this.o.title!==""?"table-cell":"none"),this.updateNavArrows(),this.fillMonths(),e=f(o,d,0),g=e.getUTCDate(),e.setUTCDate(g-(e.getUTCDay()-this.o.weekStart+7)%7),h=new Date(e),e.getUTCFullYear()<100&&h.setUTCFullYear(e.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];e.valueOf()<h;){if(p=e.getUTCDay(),p===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var nt=new Date(+e+(this.o.weekStart-p-7)%7*864e5),tt=new Date(Number(nt)+(11-nt.getUTCDay())%7*864e5),b=new Date(Number(b=f(tt.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ht=(tt-b)/6048e5+1;c.push('<td class="cw">'+ht+"<\/td>")}s=this.getClassNames(e);s.push("day");k=e.getUTCDate();this.o.beforeShowDay!==n.noop&&(u=this.o.beforeShowDay(this._utc_to_local(e)),u===t?u={}:typeof u=="boolean"?u={enabled:u}:typeof u=="string"&&(u={classes:u}),u.enabled===!1&&s.push("disabled"),u.classes&&(s=s.concat(u.classes.split(/\s+/))),u.tooltip&&(y=u.tooltip),u.content&&(k=u.content));s=n.isFunction(n.uniqueSort)?n.uniqueSort(s):n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+' data-date="'+e.getTime().toString()+'">'+k+"<\/td>");y=null;p===this.o.weekEnd&&c.push("<\/tr>");e.setUTCDate(e.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(c.join(""));it=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?it:o).end().find("tbody span").removeClass("active");n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")});(o<a||o>v)&&l.addClass("disabled");o===a&&l.slice(0,ut).addClass("disabled");o===v&&l.slice(ft+1).addClass("disabled");this.o.beforeShowMonth!==n.noop&&(rt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=rt.o.beforeShowMonth(f);u===t?u={}:typeof u=="boolean"?u={enabled:u}:typeof u=="string"&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var u=new Date(this.viewDate),t=u.getUTCFullYear(),f=u.getUTCMonth(),e=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,s=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,o=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,h=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,i,r,n=1;switch(this.viewMode){case 4:n*=10;case 3:n*=10;case 2:n*=10;case 1:i=Math.floor(t/n)*n<e;r=Math.floor(t/n)*n+n>o;break;case 0:i=t<=e&&f<s;r=t>=o&&f>h}this.picker.find(".prev").toggleClass("disabled",i);this.picker.find(".next").toggleClass("disabled",r)}},click:function(t){t.preventDefault();t.stopPropagation();var r,o,u,e;r=n(t.target);r.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1);r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(s(),this.o.todayBtn==="linked"?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,this.viewMode===1?(e=r.parent().find("span").index(r),u=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(e)):(e=0,u=Number(r.text()),this.viewDate.setUTCFullYear(u)),this._trigger(i.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(f(u,e,o)):(this.setViewMode(this.viewMode-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus();delete this._focused_from},dayCellClick:function(t){var r=n(t.currentTarget),u=r.data("date"),i=new Date(u);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate));this._setDate(i)},navArrowsClick:function(t){var u=n(t.currentTarget),r=u.hasClass("prev")?-1:1;this.viewMode!==0&&(r*=i.viewModes[this.viewMode].navStep*12);this.viewDate=this.moveMonth(this.viewDate,r);this._trigger(i.viewModes[this.viewMode].e,this.viewDate);this.fill()},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n));(!t&&this.o.updateViewDate||t==="view")&&(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&t==="view"||this._trigger("changeDate");this.inputField.trigger("change");this.o.autoclose&&(!t||t==="date")&&this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,t*7)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s===1)u=t===-1?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),r=(r+12)%12;else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return l(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(!this.picker.is(":visible")){(n.keyCode===40||n.keyCode===27)&&(this.show(),n.stopPropagation());return}var u=!1,t,i,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;t=n.keyCode===37||n.keyCode===38?-1:1;this.viewMode===0?n.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):n.keyCode===37||n.keyCode===39?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):this.viewMode===1?((n.keyCode===38||n.keyCode===40)&&(t=t*4),i=this.moveAvailableDate(r,t,"moveMonth")):this.viewMode===2&&((n.keyCode===38||n.keyCode===40)&&(t=t*4),i=this.moveAvailableDate(r,t,"moveYear"));i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(n){this.viewMode=n;this.picker.children("div").hide().filter(".datepicker-"+i.viewModes[this.viewMode].clsName).show();this.updateNavArrows();this._trigger("changeViewMode",new Date(this.viewDate))}};c=function(t,i){n.data(t,"datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;this.keepEmptyValues=i.keepEmptyValues;delete i.keepEmptyValues;o.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n.data(t,"datepicker")});this.updateDates()};c.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},clearDates:function(){n.each(this.pickers,function(n,t){t.clearDates()})},dateUpdated:function(i){var u;if(!this.updating&&(this.updating=!0,u=n.data(i.target,"datepicker"),u!==t)){var r=u.getUTCDate(),s=this.keepEmptyValues,o=n.inArray(i.target,this.inputs),f=o-1,e=o+1,h=this.inputs.length;if(o!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t!==u&&s||t.setUTCDate(r)}),r<this.dates[f])while(f>=0&&r<this.dates[f])this.pickers[f--].setUTCDate(r);else if(r>this.dates[e])while(e<h&&r>this.dates[e])this.pickers[e++].setUTCDate(r);this.updateDates();delete this.updating}}},destroy:function(){n.map(this.pickers,function(n){n.destroy()});n(this.inputs).off("changeDate",this.dateUpdated);delete this.element.data().datepicker},remove:h("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};v=n.fn.datepicker;o=function(i){var f=Array.apply(null,arguments),r;if(f.shift(),this.each(function(){var s=n(this),t=s.data("datepicker"),h=typeof i=="object"&&i;if(!t){var l=w(this,"date"),a=n.extend({},e,l,h),v=b(a.language),o=n.extend({},e,v,l,h);s.hasClass("input-daterange")||o.inputs?(n.extend(o,{inputs:o.inputs||s.find("input").toArray()}),t=new c(this,o)):t=new u(this,o);s.data("datepicker",t)}typeof i=="string"&&typeof t[i]=="function"&&(r=t[i].apply(t,f))}),r===t||r instanceof u||r instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");else return r};n.fn.datepicker=o;e=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0};y=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=u;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if(typeof n.toValue=="function"&&typeof n.toDisplay=="function")return n;var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(f,e,o,h){function et(n,t){return t===!0&&(t=10),n<100&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function ut(){var n=this.slice(0,l[c].length),t=l[c].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var tt,g,l,y,it,c,rt,v,ft,d,w;if(!f)return t;if(f instanceof Date)return f;if(typeof e=="string"&&(e=i.parseFormat(e)),e.toValue)return e.toValue(f,e,o);if(tt={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},g={yesterday:"-1d",today:"+0d",tomorrow:"+1d"},f in g&&(f=g[f]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(f)){for(l=f.match(/([\-+]\d+)([dmwy])/gi),f=new Date,c=0;c<l.length;c++)y=l[c].match(/([\-+]\d+)([dmwy])/i),it=Number(y[1]),rt=tt[y[2].toLowerCase()],f=u.prototype[rt](f,it);return u.prototype._zero_utc_time(f)}l=f&&f.match(this.nonpunctuation)||[];var b={},nt=["yyyy","yy","M","MM","m","mm","d","dd"],a={yyyy:function(n,t){return n.setUTCFullYear(h?et(t,h):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},p,k;if(a.yy=a.yyyy,a.M=a.MM=a.mm=a.m,a.dd=a.d,f=s(),v=e.parts.slice(),l.length!==v.length&&(v=n(v).filter(function(t,i){return n.inArray(i,nt)!==-1}).toArray()),l.length===v.length){for(c=0,ft=v.length;c<ft;c++){if(p=parseInt(l[c],10),y=v[c],isNaN(p))switch(y){case"MM":k=n(r[o].months).filter(ut);p=n.inArray(k[0],r[o].months)+1;break;case"M":k=n(r[o].monthsShort).filter(ut);p=n.inArray(k[0],r[o].monthsShort)+1}b[y]=p}for(c=0;c<nt.length;c++)w=nt[c],w in b&&!isNaN(b[w])&&(d=new Date(f),a[w](d,b[w]),isNaN(d)||(f=d))}return f},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";if(typeof u=="string"&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);for(e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">'+e.templates.leftArrow+'<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">'+e.templates.rightArrow+"<\/th><\/tr><\/thead>",contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=v,this};n.fn.datepicker.version="1.8.0";n.fn.datepicker.deprecated=function(n){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+n)};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),o.call(i,"show"))});n(function(){o.call(n('[data-provide="datepicker-inline"]'))})});!function(n){n.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Ter�a","Quarta","Quinta","Sexta","S�bado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S�b"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Mar�o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"}}(jQuery);$.fn.datepicker.defaults.format="dd/mm/yyyy";$.fn.datepicker.defaults.language="pt-BR";$.fn.datepicker.defaults.todayBtn="linked";$.fn.datepicker.defaults.forceParse=!0;$.fn.datepicker.defaults.keyboardNavigation=!0;$.fn.datepicker.defaults.autoclose=!1;$.fn.datepicker.defaults.changeMonth=!0;$.fn.datepicker.defaults.changeYear=!0;$.fn.datepicker.defaults.assumeNearbyYear=!0;$.fn.datepicker.defaults.todayHighlight=!0;$.fn.datepicker.defaults.immediateUpdates=!0;$.fn.datepicker.defaults.disableEntry=!1;$.fn.datepicker.defaults.ignoreReadonly=!0;$.fn.datepicker.defaults.updateViewDate=!0;var __picker=$.fn.datepicker;$.fn.datepicker=function(n){var t,s,r,h,f,c,e;if(n||(n={}),typeof n=="object")for(t=0;t<this.length;t++){var i=$(this[t]),u=n,o=i.closest(".modal");u.container=o.length?o:"#wrapper";__picker.apply(i,[u]);s=i;s.mask("99/99/9999",{onComplete:function(){document.getElementById("hide-content").className-="hide"}});i.data("datepicker-initialized",!0);u.container="#wrapper"}else for(r=0;r<this.length;r++)h=$(this[r]),f=Array.apply(null,arguments),f.shift(),c=$(h),e=c.data("datepicker"),e[n].apply(e,f)}(function(n){function i(t){var i=t||window.event,e=[].slice.call(arguments,1),r=0,f=0,u=0;return t=n.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),u=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(u=0,f=-1*r),i.wheelDeltaY!==undefined&&(u=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(f=i.wheelDeltaX/-120),e.unshift(t,r,f,u),(n.event.dispatch||n.event.handle).apply(this,e)}var t=["DOMMouseScroll","mousewheel"],r;if(n.event.fixHooks)for(r=t.length;r;)n.event.fixHooks[t[--r]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],i,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})})(jQuery);
/*! jQRangeSlider 5.7.2 - 2016-01-18 - Copyright (C) Guillaume Gautreau 2012 - MIT and GPLv3 licenses.*/
!function(n){"use strict";n.widget("ui.rangeSliderMouseTouch",n.ui.mouse,{enabled:!0,_mouseInit:function(){var t=this;n.ui.mouse.prototype._mouseInit.apply(this);this._mouseDownEvent=!1;this.element.bind("touchstart."+this.widgetName,function(n){return t._touchStart(n)})},_mouseDestroy:function(){n(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate);n.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this._mouseDestroy();n.ui.mouse.prototype.destroy.apply(this);this._mouseInit=null},_touchStart:function(t){if(!this.enabled)return!1;t.which=1;t.preventDefault();this._fillTouchEvent(t);var i=this,r=this._mouseDownEvent;this._mouseDown(t);r!==this._mouseDownEvent&&(this._touchEndDelegate=function(n){i._touchEnd(n)},this._touchMoveDelegate=function(n){i._touchMove(n)},n(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate))},_mouseDown:function(t){return this.enabled?n.ui.mouse.prototype._mouseDown.apply(this,[t]):!1},_touchEnd:function(t){this._fillTouchEvent(t);this._mouseUp(t);n(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate);this._mouseDownEvent=!1;n(document).trigger("mouseup")},_touchMove:function(n){return n.preventDefault(),this._fillTouchEvent(n),this._mouseMove(n)},_fillTouchEvent:function(n){var t;t="undefined"==typeof n.targetTouches&&"undefined"==typeof n.changedTouches?n.originalEvent.targetTouches[0]||n.originalEvent.changedTouches[0]:n.targetTouches[0]||n.changedTouches[0];n.pageX=t.pageX;n.pageY=t.pageY;n.which=1}})}(jQuery),function(n){"use strict";n.widget("ui.rangeSliderDraggable",n.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){n.ui.rangeSliderMouseTouch.prototype._create.apply(this);setTimeout(n.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null;n.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){this._mouseInit&&this._initElement()},_initElement:function(){this._mouseInit();this._cache()},_setOption:function(t,i){"containment"===t&&(this.options.containment=null===i||0===n(i).length?null:n(i))},_mouseStart:function(n){return this._cache(),this.cache.click={left:n.pageX,top:n.pageY},this.cache.initialOffset=this.element.offset(),this._triggerMouseEvent("mousestart"),!0},_mouseDrag:function(n){var t=n.pageX-this.cache.click.left;return t=this._constraintPosition(t+this.cache.initialOffset.left),this._applyPosition(t),this._triggerMouseEvent("sliderDrag"),!1},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(n){return 0!==this.element.parent().length&&null!==this.cache.parent.offset&&(n=Math.min(n,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer),n=Math.max(n,this.cache.parent.offset.left)),n},_applyPosition:function(n){this._cacheIfNecessary();var t={top:this.cache.offset.top,left:n};this.element.offset({left:n});this.cache.offset=t},_cacheIfNecessary:function(){null===this.cache&&this._cache()},_cache:function(){this.cache={};this._cacheMargins();this._cacheParent();this._cacheDimensions();this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(null!==this.options.parent){var n=this.element.parent();this.cache.parent={offset:n.offset(),width:n.width()}}else this.cache.parent=null},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(n,t){return parseInt(n.css(t),10)||0},_triggerMouseEvent:function(n){var t=this._prepareEventData();this.element.trigger(n,t)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery),function(n,t){"use strict";n.widget("ui.rangeSlider",{options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:!0,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:!1,max:!1},step:!1,scales:!1,enabled:!0,symmetricPositionning:!1},_values:null,_valuesChanged:!1,_initialized:!1,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:!1,max:!1},changed:{min:!1,max:!1},ruler:null,_create:function(){this._setDefaultValues();this.labels={left:null,right:null,leftDisplayed:!0,rightDisplayed:!0};this.arrows={left:null,right:null};this.changing={min:!1,max:!1};this.changed={min:!1,max:!1};this._createElements();this._bindResize();setTimeout(n.proxy(this.resize,this),1);setTimeout(n.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var t=this;this._resizeProxy=function(n){t.resize(n)};n(window).resize(this._resizeProxy)},_initWidth:function(){this.container.css("width",this.element.width()-this.container.outerWidth(!0)+this.container.width());this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(!0)+this.innerBar.width())},_initValues:function(){this._initialized=!0;this.values(this._values.min,this._values.max)},_setOption:function(n,t){this._setWheelOption(n,t);this._setArrowsOption(n,t);this._setLabelsOption(n,t);this._setLabelsDurations(n,t);this._setFormatterOption(n,t);this._setBoundsOption(n,t);this._setRangeOption(n,t);this._setStepOption(n,t);this._setScalesOption(n,t);this._setEnabledOption(n,t);this._setPositionningOption(n,t)},_validProperty:function(n,t,i){return null===n||"undefined"==typeof n[t]?i:n[t]},_setStepOption:function(n,t){"step"===n&&(this.options.step=t,this._leftHandle("option","step",t),this._rightHandle("option","step",t),this._changed(!0))},_setScalesOption:function(n,t){"scales"===n&&(t===!1||null===t?(this.options.scales=!1,this._destroyRuler()):t instanceof Array&&(this.options.scales=t,this._updateRuler()))},_setRangeOption:function(n,t){"range"===n&&(this._bar("option","range",t),this.options.range=this._bar("option","range"),this._changed(!0))},_setBoundsOption:function(n,t){"bounds"===n&&"undefined"!=typeof t.min&&"undefined"!=typeof t.max&&this.bounds(t.min,t.max)},_setWheelOption:function(n,t){("wheelMode"===n||"wheelSpeed"===n)&&(this._bar("option",n,t),this.options[n]=this._bar("option",n))},_setLabelsOption:function(n,t){if("valueLabels"===n){if("hide"!==t&&"show"!==t&&"change"!==t)return;this.options.valueLabels=t;"hide"!==t?(this._createLabels(),this._leftLabel("update"),this._rightLabel("update")):this._destroyLabels()}},_setFormatterOption:function(n,t){"formatter"===n&&null!==t&&"function"==typeof t&&"hide"!==this.options.valueLabels&&(this._leftLabel("option","formatter",t),this.options.formatter=this._rightLabel("option","formatter",t))},_setArrowsOption:function(n,t){"arrows"!==n||t!==!0&&t!==!1||t===this.options.arrows||(t===!0?(this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","block"),this.arrows.right.css("display","block"),this.options.arrows=!0):t===!1&&(this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.options.arrows=!1),this._initWidth())},_setLabelsDurations:function(n,t){if("durationIn"===n||"durationOut"===n||"delayOut"===n){if(parseInt(t,10)!==t)return;null!==this.labels.left&&this._leftLabel("option",n,t);null!==this.labels.right&&this._rightLabel("option",n,t);this.options[n]=t}},_setEnabledOption:function(n,t){"enabled"===n&&this.toggle(t)},_setPositionningOption:function(n,t){"symmetricPositionning"===n&&(this._rightHandle("option",n,t),this.options[n]=this._leftHandle("option",n,t))},_createElements:function(){"absolute"!==this.element.css("position")&&this.element.css("position","relative");this.element.addClass("ui-rangeSlider");this.container=n("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element);this.innerBar=n("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0);this._createHandles();this._createBar();this.container.prepend(this.innerBar);this._createArrows();"hide"!==this.options.valueLabels?this._createLabels():this._destroyLabels();this._updateRuler();this.options.enabled||this._toggle(this.options.enabled)},_createHandle:function(t){return n("<div />")[this._handleType()](t).bind("sliderDrag",n.proxy(this._changing,this)).bind("stop",n.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:!0,bounds:this.options.bounds,value:this._values.min,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container);this.rightHandle=this._createHandle({isLeft:!1,bounds:this.options.bounds,value:this._values.max,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container)},_createBar:function(){this.bar=n("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",n.proxy(this._changing,this)).bind("stop",n.proxy(this._changed,this));this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed});this.options.range=this._bar("option","range");this.options.wheelMode=this._bar("option","wheelMode");this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left");this.arrows.right=this._createArrow("right");this.options.arrows?this.element.addClass("ui-rangeSlider-withArrows"):(this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.element.addClass("ui-rangeSlider-noArrow"))},_createArrow:function(t){var i,r=n("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+t+"Arrow").css("position","absolute").css(t,0).appendTo(this.element);return i="right"===t?n.proxy(this._scrollRightClick,this):n.proxy(this._scrollLeftClick,this),r.bind("mousedown touchstart",i),r},_proxy:function(n,t,i){var r=Array.prototype.slice.call(i);return n&&n[t]?n[t].apply(n,r):null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(n,t){return t===this.rightHandle&&(n-=t.outerWidth()),n*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-t.outerWidth(!0))+this.options.bounds.min},_trigger:function(n){var t=this;setTimeout(function(){t.element.trigger(n,{label:t.element,values:t.values()})},1)},_changing:function(){this._updateValues()&&(this._trigger("valuesChanging"),this._valuesChanged=!0)},_deactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","hide"),this._rightLabel("option","show","hide"))},_reactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","change"),this._rightLabel("option","show","change"))},_changed:function(n){n===!0&&this._deactivateLabels();(this._updateValues()||this._valuesChanged)&&(this._trigger("valuesChanged"),n!==!0&&this._trigger("userValuesChanged"),this._valuesChanged=!1);n===!0&&this._reactivateLabels()},_updateValues:function(){var n=this._leftHandle("value"),t=this._rightHandle("value"),i=this._min(n,t),r=this._max(n,t),u=i!==this._values.min||r!==this._values.max;return this._values.min=this._min(n,t),this._values.max=this._max(n,t),u},_min:function(n,t){return Math.min(n,t)},_max:function(n,t){return Math.max(n,t)},_createLabel:function(t,i){var r;return null===t?(r=this._getLabelConstructorParameters(t,i),t=n("<div />").appendTo(this.element)[this._labelType()](r)):(r=this._getLabelRefreshParameters(t,i),t[this._labelType()](r)),t},_getLabelConstructorParameters:function(n,t){return{handle:t,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){return this.options.formatter===!1||null===this.options.formatter?this._defaultFormatter:this.options.formatter},_defaultFormatter:function(n){return Math.round(n)},_destroyLabel:function(n){return null!==n&&(n[this._labelType()]("destroy"),n.remove(),n=null),n},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle);this.labels.right=this._createLabel(this.labels.right,this.rightHandle);this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left);this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(n){return this.options.enabled?(n.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),void this._continueScrolling("scrollRight",4*this._stepRatio(),1)):!1},_continueScrolling:function(n,t,i,r){if(!this.options.enabled)return!1;this._bar(n,i);r=r||5;r--;var f=this,u=16,e=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){0===r&&(t>u?t=Math.max(u,t/1.5):i=Math.min(e,2*i),r=5);f._continueScrolling(n,t,i,r)},t)},_scrollLeftClick:function(n){return this.options.enabled?(n.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),void this._continueScrolling("scrollLeft",4*this._stepRatio(),1)):!1},_bindStopScroll:function(){var t=this;this._stopScrollHandle=function(n){n.preventDefault();t._stopScroll()};n(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){n(document).unbind("mouseup touchend",this._stopScrollHandle);this._stopScrollHandle=null;this._bar("stopScroll");clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=n("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){null!==this.ruler&&n.fn.ruler&&(this.ruler.ruler("destroy"),this.ruler.remove(),this.ruler=null)},_updateRuler:function(){this._destroyRuler();this.options.scales!==!1&&n.fn.ruler&&(this._createRuler(),this._setRulerParameters())},values:function(n,t){var i;if("undefined"!=typeof n&&"undefined"!=typeof t){if(!this._initialized)return this._values.min=n,this._values.max=t,this._values;this._deactivateLabels();i=this._bar("values",n,t);this._changed(!0);this._reactivateLabels()}else i=this._bar("values",n,t);return i},min:function(n){return this._values.min=this.values(n,this._values.max).min,this._values.min},max:function(n){return this._values.max=this.values(this._values.min,n).max,this._values.max},bounds:function(n,t){return this._isValidValue(n)&&this._isValidValue(t)&&t>n&&(this._setBounds(n,t),this._updateRuler(),this._changed(!0)),this.options.bounds},_isValidValue:function(n){return"undefined"!=typeof n&&parseFloat(n)===n},_setBounds:function(n,t){this.options.bounds={min:n,max:t};this._leftHandle("option","bounds",this.options.bounds);this._rightHandle("option","bounds",this.options.bounds);this._bar("option","bounds",this.options.bounds)},zoomIn:function(n){this._bar("zoomIn",n)},zoomOut:function(n){this._bar("zoomOut",n)},scrollLeft:function(n){this._bar("startScroll");this._bar("scrollLeft",n);this._bar("stopScroll")},scrollRight:function(n){this._bar("startScroll");this._bar("scrollRight",n);this._bar("stopScroll")},resize:function(){this.container&&(this._initWidth(),this._leftHandle("update"),this._rightHandle("update"),this._bar("update"))},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},toggle:function(n){n===t&&(n=!this.options.enabled);this.options.enabled!==n&&this._toggle(n)},_toggle:function(n){this.options.enabled=n;this.element.toggleClass("ui-rangeSlider-disabled",!n);var t=n?"enable":"disable";this._bar(t);this._leftHandle(t);this._rightHandle(t);this._leftLabel(t);this._rightLabel(t)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled");this._destroyWidgets();this._destroyElements();this.element.removeClass("ui-rangeSlider");this.options=null;n(window).unbind("resize",this._resizeProxy);this._resizeProxy=null;this._bindResize=null;n.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(n){this["_"+n]("destroy");this[n].remove();this[n]=null},_destroyWidgets:function(){this._destroyWidget("bar");this._destroyWidget("leftHandle");this._destroyWidget("rightHandle");this._destroyRuler();this._destroyLabels()},_destroyElements:function(){this.container.remove();this.container=null;this.innerBar.remove();this.innerBar=null;this.arrows.left.remove();this.arrows.right.remove();this.arrows=null}})}(jQuery),function(n){"use strict";n.widget("ui.rangeSliderHandle",n.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:!0,bounds:{min:0,max:100},range:!1,value:0,step:!1},_value:0,_left:0,_create:function(){n.ui.rangeSliderDraggable.prototype._create.apply(this);this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft);this.element.append("<div class='ui-rangeSlider-handle-inner' />");this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty();n.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(t,i){"isLeft"!==t||i!==!0&&i!==!1||i===this.options.isLeft?"step"===t&&this._checkStep(i)?(this.options.step=i,this.update()):"bounds"===t?(this.options.bounds=i,this.update()):"range"===t&&this._checkRange(i)?(this.options.range=i,this.update()):"symmetricPositionning"===t&&(this.options.symmetricPositionning=i===!0,this.update()):(this.options.isLeft=i,this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this._position(this._value),this.element.trigger("switch",this.options.isLeft));n.ui.rangeSliderDraggable.prototype._setOption.apply(this,[t,i])},_checkRange:function(n){return n===!1||!this._isValidValue(n.min)&&!this._isValidValue(n.max)},_isValidValue:function(n){return"undefined"!=typeof n&&n!==!1&&parseFloat(n)!==n},_checkStep:function(n){return n===!1||parseFloat(n)===n},_initElement:function(){n.ui.rangeSliderDraggable.prototype._initElement.apply(this);0===this.cache.parent.width||null===this.cache.parent.width?setTimeout(n.proxy(this._initElementIfNotDestroyed,this),500):(this._position(this._value),this._triggerMouseEvent("initialize"))},_bounds:function(){return this.options.bounds},_cache:function(){n.ui.rangeSliderDraggable.prototype._cache.apply(this);this._cacheParent()},_cacheParent:function(){var n=this.element.parent();this.cache.parent={element:n,offset:n.offset(),padding:{left:this._parsePixels(n,"paddingLeft")},width:n.width()}},_position:function(n){var t=this._getPositionForValue(n);this._applyPosition(t)},_constraintPosition:function(n){var t=this._getValueForPosition(n);return this._getPositionForValue(t)},_applyPosition:function(t){n.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[t]);this._left=t;this._setValue(this._getValueForPosition(t));this._triggerMouseEvent("moving")},_prepareEventData:function(){var t=n.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);return t.value=this._value,t},_setValue:function(n){n!==this._value&&(this._value=n)},_constraintValue:function(n){if(n=Math.min(n,this._bounds().max),n=Math.max(n,this._bounds().min),n=this._round(n),this.options.range!==!1){var t=this.options.range.min||!1,i=this.options.range.max||!1;t!==!1&&(n=Math.max(n,this._round(t)));i!==!1&&(n=Math.min(n,this._round(i)));n=Math.min(n,this._bounds().max);n=Math.max(n,this._bounds().min)}return n},_round:function(n){return this.options.step!==!1&&this.options.step>0?Math.round(n/this.options.step)*this.options.step:n},_getPositionForValue:function(n){if(!this.cache||!this.cache.parent||null===this.cache.parent.offset)return 0;n=this._constraintValue(n);var t=(n-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),i=this.cache.parent.width,r=this.cache.parent.offset.left,u=this.options.isLeft?0:this.cache.width.outer;return this.options.symmetricPositionning?t*(i-2*this.cache.width.outer)+r+u:t*i+r-u},_getValueForPosition:function(n){var t=this._getRawValueForPositionAndBounds(n,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(t)},_getRawValueForPositionAndBounds:function(n,t,i){var r,u,f=null===this.cache.parent.offset?0:this.cache.parent.offset.left;return this.options.symmetricPositionning?(n-=this.options.isLeft?0:this.cache.width.outer,r=this.cache.parent.width-2*this.cache.width.outer):(n+=this.options.isLeft?0:this.cache.width.outer,r=this.cache.parent.width),0===r?this._value:(u=(n-f)/r,u*(i-t)+t)},value:function(n){return"undefined"!=typeof n&&(this._cache(),n=this._constraintValue(n),this._position(n)),this._value},update:function(){this._cache();var n=this._constraintValue(this._value),t=this._getPositionForValue(n);n!==this._value?(this._triggerMouseEvent("updating"),this._position(n),this._triggerMouseEvent("update")):t!==this.cache.offset.left&&(this._triggerMouseEvent("updating"),this._position(n),this._triggerMouseEvent("update"))},position:function(n){return"undefined"!=typeof n&&(this._cache(),n=this._constraintPosition(n),this._applyPosition(n)),this._left},add:function(n,t){return n+t},substract:function(n,t){return n-t},stepsBetween:function(n,t){return this.options.step===!1?t-n:(t-n)/this.options.step},multiplyStep:function(n,t){return n*t},moveRight:function(n){var t;return this.options.step===!1?(t=this._left,this.position(this._left+n),this._left-t):(t=this._value,this.value(this.add(t,this.multiplyStep(this.options.step,n))),this.stepsBetween(t,this._value))},moveLeft:function(n){return-this.moveRight(-n)},stepRatio:function(){if(this.options.step===!1)return 1;var n=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/n}})}(jQuery),function(n){"use strict";function t(n,t){return"undefined"==typeof n?t||!1:n}n.widget("ui.rangeSliderBar",n.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:!1,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:!1,_create:function(){n.ui.rangeSliderDraggable.prototype._create.apply(this);this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar");this.options.leftHandle.bind("initialize",n.proxy(this._onInitialized,this)).bind("mousestart",n.proxy(this._cache,this)).bind("stop",n.proxy(this._onHandleStop,this));this.options.rightHandle.bind("initialize",n.proxy(this._onInitialized,this)).bind("mousestart",n.proxy(this._cache,this)).bind("stop",n.proxy(this._onHandleStop,this));this._bindHandles();this._values=this.options.values;this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar");this.options.rightHandle.unbind(".bar");this.options=null;n.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(n,t){"range"===n?this._setRangeOption(t):"wheelSpeed"===n?this._setWheelSpeedOption(t):"wheelMode"===n&&this._setWheelModeOption(t)},_setRangeOption:function(n){if(("object"!=typeof n||null===n)&&(n=!1),n!==!1||this.options.range!==!1){if(n!==!1){var i=t(n.min,this.options.range.min),r=t(n.max,this.options.range.max);this.options.range={min:i,max:r}}else this.options.range=!1;this._setLeftRange();this._setRightRange()}},_setWheelSpeedOption:function(n){"number"==typeof n&&0!==n&&(this.options.wheelSpeed=n)},_setWheelModeOption:function(n){(null===n||n===!1||"zoom"===n||"scroll"===n)&&(this.options.wheelMode!==n&&this.element.parent().unbind("mousewheel.bar"),this._bindMouseWheel(n),this.options.wheelMode=n)},_bindMouseWheel:function(t){"zoom"===t?this.element.parent().bind("mousewheel.bar",n.proxy(this._mouseWheelZoom,this)):"scroll"===t&&this.element.parent().bind("mousewheel.bar",n.proxy(this._mouseWheelScroll,this))},_setLeftRange:function(){if(this.options.range===!1)return!1;var t=this._values.max,n={min:!1,max:!1};n.max="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._leftHandle("substract",t,this.options.range.min):!1;n.min="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._leftHandle("substract",t,this.options.range.max):!1;this._leftHandle("option","range",n)},_setRightRange:function(){var t=this._values.min,n={min:!1,max:!1};n.min="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._rightHandle("add",t,this.options.range.min):!1;n.max="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._rightHandle("add",t,this.options.range.max):!1;this._rightHandle("option","range",n)},_deactivateRange:function(){this._leftHandle("option","range",!1);this._rightHandle("option","range",!1)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--;0===this._waitingToInit&&this._initMe()},_initMe:function(){this._cache();this.min(this._values.min);this.max(this._values.max);var n=this._leftHandle("position"),t=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:n});this.element.css("width",t-n)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(n,t){var i=Array.prototype.slice.call(t);return n[this.options.type].apply(n,i)},_cache:function(){n.ui.rangeSliderDraggable.prototype._cache.apply(this);this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={};this.cache.rightHandle.width=this.options.rightHandle.width();this.cache.rightHandle.offset=this.options.rightHandle.offset();this.cache.leftHandle={};this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(t){n.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[t]);this._deactivateRange()},_mouseStop:function(t){n.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[t]);this._cacheHandles();this._values.min=this._leftHandle("value");this._values.max=this._rightHandle("value");this._reactivateRange();this._leftHandle().trigger("stop");this._rightHandle().trigger("stop")},_onDragLeftHandle:function(n,t){if(this._cacheIfNecessary(),t.element[0]===this.options.leftHandle[0]){if(this._switchedValues())return this._switchHandles(),void this._onDragRightHandle(n,t);this._values.min=t.value;this.cache.offset.left=t.offset.left;this.cache.leftHandle.offset=t.offset;this._positionBar()}},_onDragRightHandle:function(n,t){if(this._cacheIfNecessary(),t.element[0]===this.options.rightHandle[0]){if(this._switchedValues())return this._switchHandles(),void this._onDragLeftHandle(n,t);this._values.max=t.value;this.cache.rightHandle.offset=t.offset;this._positionBar()}},_positionBar:function(){var n=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=n;this.element.css("width",n).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange();this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var n=this._values.min;return this._values.min=this._values.max,this._values.max=n,!0}return!1},_switchHandles:function(){var n=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle;this.options.rightHandle=n;this._leftHandle("option","isLeft",!0);this._rightHandle("option","isLeft",!1);this._bindHandles();this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",n.proxy(this._onDragLeftHandle,this));this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",n.proxy(this._onDragRightHandle,this))},_constraintPosition:function(t){var r,i={};return i.left=n.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[t]),i.left=this._leftHandle("position",i.left),r=this._rightHandle("position",i.left+this.cache.width.outer-this.cache.rightHandle.width),i.width=r-i.left+this.cache.rightHandle.width,i},_applyPosition:function(t){n.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[t.left]);this.element.width(t.width)},_mouseWheelZoom:function(t,i,r,u){if(!this.enabled)return!1;var f=this._values.min+(this._values.max-this._values.min)/2,e={},o={};return this.options.range===!1||this.options.range.min===!1?(e.max=f,o.min=f):(e.max=f-this.options.range.min/2,o.min=f+this.options.range.min/2),this.options.range!==!1&&this.options.range.max!==!1&&(e.min=f-this.options.range.max/2,o.max=f+this.options.range.max/2),this._leftHandle("option","range",e),this._rightHandle("option","range",o),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(n.proxy(this._wheelStop,this),200),this.zoomIn(u*this.options.wheelSpeed),!1},_mouseWheelScroll:function(t,i,r,u){return this.enabled?(this._wheelTimeout===!1?this.startScroll():clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(n.proxy(this._wheelStop,this),200),this.scrollLeft(u*this.options.wheelSpeed),!1):!1},_wheelStop:function(){this.stopScroll();this._wheelTimeout=!1},min:function(n){return this._leftHandle("value",n)},max:function(n){return this._rightHandle("value",n)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange();this._triggerMouseEvent("stop");this._leftHandle().trigger("stop");this._rightHandle().trigger("stop")},scrollLeft:function(n){return n=n||1,0>n?this.scrollRight(-n):(n=this._leftHandle("moveLeft",n),this._rightHandle("moveLeft",n),this.update(),void this._triggerMouseEvent("scroll"))},scrollRight:function(n){return n=n||1,0>n?this.scrollLeft(-n):(n=this._rightHandle("moveRight",n),this._leftHandle("moveRight",n),this.update(),void this._triggerMouseEvent("scroll"))},zoomIn:function(n){if(n=n||1,0>n)return this.zoomOut(-n);var t=this._rightHandle("moveLeft",n);n>t&&(t/=2,this._rightHandle("moveRight",t));this._leftHandle("moveRight",t);this.update();this._triggerMouseEvent("zoom")},zoomOut:function(n){if(n=n||1,0>n)return this.zoomIn(-n);var t=this._rightHandle("moveRight",n);n>t&&(t/=2,this._rightHandle("moveLeft",t));this._leftHandle("moveLeft",t);this.update();this._triggerMouseEvent("zoom")},values:function(n,t){if("undefined"!=typeof n&&"undefined"!=typeof t){var i=Math.min(n,t),r=Math.max(n,t);this._deactivateRange();this.options.leftHandle.unbind(".bar");this.options.rightHandle.unbind(".bar");this._values.min=this._leftHandle("value",i);this._values.max=this._rightHandle("value",r);this._bindHandles();this._reactivateRange();this.update()}return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min();this._values.max=this.max();this._cache();this._positionBar()}})}(jQuery),function(n){"use strict";function t(t,i,r,u){this.label1=t;this.label2=i;this.type=r;this.options=u;this.handle1=this.label1[this.type]("option","handle");this.handle2=this.label2[this.type]("option","handle");this.cache=null;this.left=t;this.right=i;this.moving=!1;this.initialized=!1;this.updating=!1;this.Init=function(){this.BindHandle(this.handle1);this.BindHandle(this.handle2);"show"===this.options.show?(setTimeout(n.proxy(this.PositionLabels,this),1),this.initialized=!0):setTimeout(n.proxy(this.AfterInit,this),1e3);this._resizeProxy=n.proxy(this.onWindowResize,this);n(window).resize(this._resizeProxy)};this.Destroy=function(){this._resizeProxy&&(n(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this.handle1.unbind(".positionner"),this.handle1=null,this.handle2.unbind(".positionner"),this.handle2=null,this.label1=null,this.label2=null,this.left=null,this.right=null);this.cache=null};this.AfterInit=function(){this.initialized=!0};this.Cache=function(){"none"!==this.label1.css("display")&&(this.cache={},this.cache.label1={},this.cache.label2={},this.cache.handle1={},this.cache.handle2={},this.cache.offsetParent={},this.CacheElement(this.label1,this.cache.label1),this.CacheElement(this.label2,this.cache.label2),this.CacheElement(this.handle1,this.cache.handle1),this.CacheElement(this.handle2,this.cache.handle2),this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent))};this.CacheIfNecessary=function(){null===this.cache?this.Cache():(this.CacheWidth(this.label1,this.cache.label1),this.CacheWidth(this.label2,this.cache.label2),this.CacheHeight(this.label1,this.cache.label1),this.CacheHeight(this.label2,this.cache.label2),this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent))};this.CacheElement=function(n,t){this.CacheWidth(n,t);this.CacheHeight(n,t);t.offset=n.offset();t.margin={left:this.ParsePixels("marginLeft",n),right:this.ParsePixels("marginRight",n)};t.border={left:this.ParsePixels("borderLeftWidth",n),right:this.ParsePixels("borderRightWidth",n)}};this.CacheWidth=function(n,t){t.width=n.width();t.outerWidth=n.outerWidth()};this.CacheHeight=function(n,t){t.outerHeightMargin=n.outerHeight(!0)};this.ParsePixels=function(n,t){return parseInt(t.css(n),10)||0};this.BindHandle=function(t){t.bind("updating.positionner",n.proxy(this.onHandleUpdating,this));t.bind("update.positionner",n.proxy(this.onHandleUpdated,this));t.bind("moving.positionner",n.proxy(this.onHandleMoving,this));t.bind("stop.positionner",n.proxy(this.onHandleStop,this))};this.PositionLabels=function(){if(this.CacheIfNecessary(),null!==this.cache){var n=this.GetRawPosition(this.cache.label1,this.cache.handle1),t=this.GetRawPosition(this.cache.label2,this.cache.handle2);this.label1[r]("option","isLeft")?this.ConstraintPositions(n,t):this.ConstraintPositions(t,n);this.PositionLabel(this.label1,n.left,this.cache.label1);this.PositionLabel(this.label2,t.left,this.cache.label2)}};this.PositionLabel=function(n,t,i){var r,u,f,e=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left;e-t>=0?(n.css("right",""),n.offset({left:t})):(r=e+this.cache.offsetParent.width,u=t+i.margin.left+i.outerWidth+i.margin.right,f=r-u,n.css("left",""),n.css("right",f))};this.ConstraintPositions=function(n,t){(n.center<t.center&&n.outerRight>t.outerLeft||n.center>t.center&&t.outerRight>n.outerLeft)&&(n=this.getLeftPosition(n,t),t=this.getRightPosition(n,t))};this.getLeftPosition=function(n,t){var i=(t.center+n.center)/2,r=i-n.cache.outerWidth-n.cache.margin.right+n.cache.border.left;return n.left=r,n};this.getRightPosition=function(n,t){var i=(t.center+n.center)/2;return t.left=i+t.cache.margin.left+t.cache.border.left,t};this.ShowIfNecessary=function(){"show"===this.options.show||this.moving||!this.initialized||this.updating||(this.label1.stop(!0,!0).fadeIn(this.options.durationIn||0),this.label2.stop(!0,!0).fadeIn(this.options.durationIn||0),this.moving=!0)};this.HideIfNeeded=function(){this.moving===!0&&(this.label1.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.label2.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.moving=!1)};this.onHandleMoving=function(n,t){this.ShowIfNecessary();this.CacheIfNecessary();this.UpdateHandlePosition(t);this.PositionLabels()};this.onHandleUpdating=function(){this.updating=!0};this.onHandleUpdated=function(){this.updating=!1;this.cache=null};this.onHandleStop=function(){this.HideIfNeeded()};this.onWindowResize=function(){this.cache=null};this.UpdateHandlePosition=function(n){null!==this.cache&&(n.element[0]===this.handle1[0]?this.UpdatePosition(n,this.cache.handle1):this.UpdatePosition(n,this.cache.handle2))};this.UpdatePosition=function(n,t){t.offset=n.offset;t.value=n.value};this.GetRawPosition=function(n,t){var r=t.offset.left+t.outerWidth/2,i=r-n.outerWidth/2,f=i+n.outerWidth-n.border.left-n.border.right,u=i-n.margin.left-n.border.left,e=t.offset.top-n.outerHeightMargin;return{left:i,outerLeft:u,top:e,right:f,outerRight:u+n.outerWidth+n.margin.left+n.margin.right,cache:n,center:r}};this.Init()}n.widget("ui.rangeSliderLabel",n.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:!1,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:!1},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft");this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block");this._createElements();this._toggleClass();this.options.handle.bind("moving.label",n.proxy(this._onMoving,this)).bind("update.label",n.proxy(this._onUpdate,this)).bind("switch.label",n.proxy(this._onSwitch,this));"show"!==this.options.show&&this.element.hide();this._mouseInit()},destroy:function(){this.options.handle.unbind(".label");this.options.handle=null;this._valueContainer=null;this._innerElement=null;this.element.empty();this._positionner&&(this._positionner.Destroy(),this._positionner=null);n.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=n("<div class='ui-rangeSlider-label-value' />").appendTo(this.element);this._innerElement=n("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)},_handle:function(){var n=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,n)},_setOption:function(n,t){"show"===n?this._updateShowOption(t):("durationIn"===n||"durationOut"===n||"delayOut"===n)&&this._updateDurations(n,t);this._setFormatterOption(n,t)},_setFormatterOption:function(n,t){"formatter"===n&&("function"==typeof t||t===!1)&&(this.options.formatter=t,this._display(this._value))},_updateShowOption:function(n){this.options.show=n;"show"!==this.options.show?(this.element.hide(),this._positionner.moving=!1):(this.element.show(),this._display(this.options.handle[this.options.handleType]("value")),this._positionner.PositionLabels());this._positionner.options.show=this.options.show},_updateDurations:function(n,t){parseInt(t,10)===t&&(this._positionner.options[n]=t,this.options[n]=t)},_display:function(n){this.options.formatter===!1?this._displayText(Math.round(n)):this._displayText(this.options.formatter(n));this._value=n},_displayText:function(n){this._valueContainer.text(n)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_positionLabels:function(){this._positionner.PositionLabels()},_mouseDown:function(n){this.options.handle.trigger(n)},_mouseUp:function(n){this.options.handle.trigger(n)},_mouseMove:function(n){this.options.handle.trigger(n)},_onMoving:function(n,t){this._display(t.value)},_onUpdate:function(){"show"===this.options.show&&this.update()},_onSwitch:function(n,t){this.options.isLeft=t;this._toggleClass();this._positionLabels()},pair:function(n){null===this._positionner&&(this._positionner=new t(this.element,n,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}),n[this.widgetName]("positionner",this._positionner))},positionner:function(n){return"undefined"!=typeof n&&(this._positionner=n),this._positionner},update:function(){this._positionner.cache=null;this._display(this._handle("value"));"show"===this.options.show&&this._positionLabels()}})}(jQuery),function(n){"use strict";n.widget("ui.dateRangeSlider",n.ui.rangeSlider,{options:{bounds:{min:new Date(2010,0,1).valueOf(),max:new Date(2012,0,1).valueOf()},defaultValues:{min:new Date(2010,1,11).valueOf(),max:new Date(2011,1,11).valueOf()}},_create:function(){n.ui.rangeSlider.prototype._create.apply(this);this.element.addClass("ui-dateRangeSlider")},destroy:function(){this.element.removeClass("ui-dateRangeSlider");n.ui.rangeSlider.prototype.destroy.apply(this)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min.valueOf(),max:this.options.defaultValues.max.valueOf()}},_setRulerParameters:function(){this.ruler.ruler({min:new Date(this.options.bounds.min.valueOf()),max:new Date(this.options.bounds.max.valueOf()),scales:this.options.scales})},_setOption:function(t,i){("defaultValues"===t||"bounds"===t)&&"undefined"!=typeof i&&null!==i&&this._isValidDate(i.min)&&this._isValidDate(i.max)?n.ui.rangeSlider.prototype._setOption.apply(this,[t,{min:i.min.valueOf(),max:i.max.valueOf()}]):n.ui.rangeSlider.prototype._setOption.apply(this,this._toArray(arguments))},_handleType:function(){return"dateRangeSliderHandle"},option:function(t){if("bounds"===t||"defaultValues"===t){var i=n.ui.rangeSlider.prototype.option.apply(this,arguments);return{min:new Date(i.min),max:new Date(i.max)}}return n.ui.rangeSlider.prototype.option.apply(this,this._toArray(arguments))},_defaultFormatter:function(n){var t=n.getMonth()+1,i=n.getDate();return""+n.getFullYear()+"-"+(10>t?"0"+t:t)+"-"+(10>i?"0"+i:i)},_getFormatter:function(){var n=this.options.formatter;return(this.options.formatter===!1||null===this.options.formatter)&&(n=this._defaultFormatter),function(n){return function(t){return n(new Date(t))}}(n)},values:function(t,i){var r=null;return r=this._isValidDate(t)&&this._isValidDate(i)?n.ui.rangeSlider.prototype.values.apply(this,[t.valueOf(),i.valueOf()]):n.ui.rangeSlider.prototype.values.apply(this,this._toArray(arguments)),{min:new Date(r.min),max:new Date(r.max)}},min:function(t){return this._isValidDate(t)?new Date(n.ui.rangeSlider.prototype.min.apply(this,[t.valueOf()])):new Date(n.ui.rangeSlider.prototype.min.apply(this))},max:function(t){return this._isValidDate(t)?new Date(n.ui.rangeSlider.prototype.max.apply(this,[t.valueOf()])):new Date(n.ui.rangeSlider.prototype.max.apply(this))},bounds:function(t,i){var r;return r=this._isValidDate(t)&&this._isValidDate(i)?n.ui.rangeSlider.prototype.bounds.apply(this,[t.valueOf(),i.valueOf()]):n.ui.rangeSlider.prototype.bounds.apply(this,this._toArray(arguments)),{min:new Date(r.min),max:new Date(r.max)}},_isValidDate:function(n){return"undefined"!=typeof n&&n instanceof Date},_toArray:function(n){return Array.prototype.slice.call(n)}})}(jQuery),function(n){"use strict";n.widget("ui.dateRangeSliderHandle",n.ui.rangeSliderHandle,{_steps:!1,_boundsValues:{},_create:function(){this._createBoundsValues();n.ui.rangeSliderHandle.prototype._create.apply(this)},_getValueForPosition:function(n){var t=this._getRawValueForPositionAndBounds(n,this.options.bounds.min.valueOf(),this.options.bounds.max.valueOf());return this._constraintValue(new Date(t))},_setOption:function(t,i){return"step"===t?(this.options.step=i,this._createSteps(),void this.update()):(n.ui.rangeSliderHandle.prototype._setOption.apply(this,[t,i]),void("bounds"===t&&this._createBoundsValues()))},_createBoundsValues:function(){this._boundsValues={min:this.options.bounds.min.valueOf(),max:this.options.bounds.max.valueOf()}},_bounds:function(){return this._boundsValues},_createSteps:function(){if(this.options.step===!1||!this._isValidStep())return void(this._steps=!1);var r=new Date(this.options.bounds.min.valueOf()),u=new Date(this.options.bounds.max.valueOf()),n=r,t=0,i=new Date;for(this._steps=[];u>=n&&(1===t||i.valueOf()!==n.valueOf());)i=n,this._steps.push(n.valueOf()),n=this._addStep(r,t,this.options.step),t++;i.valueOf()===n.valueOf()&&(this._steps=!1)},_isValidStep:function(){return"object"==typeof this.options.step},_addStep:function(n,t,i){var r=new Date(n.valueOf());return r=this._addThing(r,"FullYear",t,i.years),r=this._addThing(r,"Month",t,i.months),r=this._addThing(r,"Date",t,7*i.weeks),r=this._addThing(r,"Date",t,i.days),r=this._addThing(r,"Hours",t,i.hours),r=this._addThing(r,"Minutes",t,i.minutes),r=this._addThing(r,"Seconds",t,i.seconds)},_addThing:function(n,t,i,r){return 0===i||0===(r||0)?n:(n["set"+t](n["get"+t]()+i*(r||0)),n)},_round:function(n){if(this._steps===!1)return n;for(var i,r,f=this.options.bounds.max.valueOf(),u=this.options.bounds.min.valueOf(),e=Math.max(0,(n-u)/(f-u)),t=Math.floor(this._steps.length*e);this._steps[t]>n;)t--;for(;t+1<this._steps.length&&this._steps[t+1]<=n;)t++;return t>=this._steps.length-1?this._steps[this._steps.length-1]:0===t?this._steps[0]:(i=this._steps[t],r=this._steps[t+1],r-n>n-i?i:r)},update:function(){this._createBoundsValues();this._createSteps();n.ui.rangeSliderHandle.prototype.update.apply(this)},add:function(n,t){return this._addStep(new Date(n),1,t).valueOf()},substract:function(n,t){return this._addStep(new Date(n),-1,t).valueOf()},stepsBetween:function(n,t){if(this.options.step===!1)return t-n;var i=Math.min(n,t),r=Math.max(n,t),u=0,f=!1,e=n>t;for(this.add(i,this.options.step)-i<0&&(f=!0);r>i;)f?r=this.add(r,this.options.step):i=this.add(i,this.options.step),u++;return e?-u:u},multiplyStep:function(n,t){var r={};for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]*t);return r},stepRatio:function(){if(this.options.step===!1)return 1;var n=this._steps.length;return this.cache.parent.width/n}})}(jQuery),function(n){"use strict";n.widget("ui.editRangeSlider",n.ui.rangeSlider,{options:{type:"text",round:1},_create:function(){n.ui.rangeSlider.prototype._create.apply(this);this.element.addClass("ui-editRangeSlider")},destroy:function(){this.element.removeClass("ui-editRangeSlider");n.ui.rangeSlider.prototype.destroy.apply(this)},_setOption:function(t,i){("type"===t||"step"===t)&&this._setLabelOption(t,i);"type"===t&&(this.options[t]=null===this.labels.left?i:this._leftLabel("option",t));n.ui.rangeSlider.prototype._setOption.apply(this,[t,i])},_setLabelOption:function(n,t){null!==this.labels.left&&(this._leftLabel("option",n,t),this._rightLabel("option",n,t))},_labelType:function(){return"editRangeSliderLabel"},_createLabel:function(t,i){var r=n.ui.rangeSlider.prototype._createLabel.apply(this,[t,i]);return null===t&&r.bind("valueChange",n.proxy(this._onValueChange,this)),r},_addPropertiesToParameter:function(n){return n.type=this.options.type,n.step=this.options.step,n.id=this.element.attr("id"),n},_getLabelConstructorParameters:function(t,i){var r=n.ui.rangeSlider.prototype._getLabelConstructorParameters.apply(this,[t,i]);return this._addPropertiesToParameter(r)},_getLabelRefreshParameters:function(t,i){var r=n.ui.rangeSlider.prototype._getLabelRefreshParameters.apply(this,[t,i]);return this._addPropertiesToParameter(r)},_onValueChange:function(n,t){var i=!1;i=t.isLeft?this._values.min!==this.min(t.value):this._values.max!==this.max(t.value);i&&this._trigger("userValuesChanged")}})}(jQuery),function(n){"use strict";n.widget("ui.editRangeSliderLabel",n.ui.rangeSliderLabel,{options:{type:"text",step:!1,id:""},_input:null,_text:"",_create:function(){n.ui.rangeSliderLabel.prototype._create.apply(this);this._createInput()},_setOption:function(t,i){"type"===t?this._setTypeOption(i):"step"===t&&this._setStepOption(i);n.ui.rangeSliderLabel.prototype._setOption.apply(this,[t,i])},_createInput:function(){this._input=n("<input type='"+this.options.type+"' />").addClass("ui-editRangeSlider-inputValue").appendTo(this._valueContainer);this._setInputName();this._input.bind("keyup",n.proxy(this._onKeyUp,this));this._input.blur(n.proxy(this._onChange,this));"number"===this.options.type&&(this.options.step!==!1&&this._input.attr("step",this.options.step),this._input.click(n.proxy(this._onChange,this)));this._input.val(this._text)},_setInputName:function(){var n=this.options.isLeft?"left":"right";this._input.attr("name",this.options.id+n)},_onSwitch:function(t,i){n.ui.rangeSliderLabel.prototype._onSwitch.apply(this,[t,i]);this._setInputName()},_destroyInput:function(){this._input.remove();this._input=null},_onKeyUp:function(n){if(13===n.which)return(this._onChange(n),!1)},_onChange:function(){var n=this._returnCheckedValue(this._input.val());n!==!1&&this._triggerValue(n)},_triggerValue:function(n){var t=this.options.handle[this.options.handleType]("option","isLeft");this.element.trigger("valueChange",[{isLeft:t,value:n}])},_returnCheckedValue:function(n){var t=parseFloat(n);return isNaN(t)||isNaN(Number(n))?!1:t},_setTypeOption:function(n){"text"!==n&&"number"!==n||this.options.type===n||(this._destroyInput(),this.options.type=n,this._createInput())},_setStepOption:function(n){this.options.step=n;"number"===this.options.type&&this._input.attr("step",n!==!1?n:"any")},_displayText:function(n){this._input.val(n);this._text=n},enable:function(){n.ui.rangeSliderLabel.prototype.enable.apply(this);this._input.attr("disabled",null)},disable:function(){n.ui.rangeSliderLabel.prototype.disable.apply(this);this._input.attr("disabled","disabled")}})}(jQuery),function(n){"use strict";var t={first:function(n){return n},next:function(n){return n+1},format:function(){},label:function(n){return Math.round(n)},stop:function(){return!1}};n.widget("ui.ruler",{options:{min:0,max:100,scales:[]},_create:function(){this.element.addClass("ui-ruler");this._createScales()},destroy:function(){this.element.removeClass("ui-ruler");this.element.empty()},_regenerate:function(){this.element.empty();this._createScales()},_setOption:function(n,t){return"min"===n||"max"===n&&t!==this.options[n]?(this.options[n]=t,void this._regenerate()):"scales"===n&&t instanceof Array?(this.options.scales=t,void this._regenerate()):void 0},_createScales:function(){if(this.options.max!==this.options.min)for(var n=0;n<this.options.scales.length;n++)this._createScale(this.options.scales[n],n)},_createScale:function(i,r){var f=n.extend({},t,i),u=n("<div class='ui-ruler-scale' />").appendTo(this.element);u.addClass("ui-ruler-scale"+r);this._createTicks(u,f)},_createTicks:function(n,t){var i,f,u,r=t.first(this.options.min,this.options.max),e=this.options.max-this.options.min,o=!0;do i=r,r=t.next(i),f=(Math.min(r,this.options.max)-Math.max(i,this.options.min))/e,u=this._createTick(i,r,t),n.append(u),u.css("width",100*f+"%"),o&&i>this.options.min&&u.css("margin-left",100*(i-this.options.min)/e+"%"),o=!1;while(!this._stop(t,r))},_stop:function(n,t){return n.stop(t)||t>=this.options.max},_createTick:function(t,i,r){var u=n("<div class='ui-ruler-tick' style='display:inline-block' />"),f=n("<div class='ui-ruler-tick-inner' />").appendTo(u),e=n("<span class='ui-ruler-tick-label' />").appendTo(f);return e.text(r.label(t,i)),r.format(u,t,i),u}})}(jQuery);